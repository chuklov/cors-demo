spring.application.name=demo
spring.sql.init.mode=always

# Liquibase config
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:/changelog/changelog-master.xml
spring.liquibase.url=jdbc:postgresql://${db_url}
spring.liquibase.user=${db_user}
spring.liquibase.password=${db_pass}

# PostgreSQL config
spring.r2dbc.url=r2dbc:postgresql://${db_url}
spring.r2dbc.username=${db_user}
spring.r2dbc.password=${db_pass}
spring.r2dbc.pool.enabled=true
spring.r2dbc.pool.initial-size=5
spring.r2dbc.pool.max-size=10

# Keycloak configuration
spring.security.allowed.origin=${allowed-origin}
spring.security.oauth2.client.registration.keycloak.client-id=${kc-client-id}
spring.security.oauth2.client.registration.keycloak.client-secret=${kc-secret}
spring.security.oauth2.client.registration.keycloak.scope=openid
spring.security.oauth2.client.provider.keycloak.issuer-uri=${kc-url}/auth/realms/${kc-realm}
spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username
spring.security.oauth2.resourceserver.jwt.issuer-uri=${keycloak}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs

keycloak.realm=${kc-realm}
keycloak.auth-server-url=${kc-url}
keycloak.client=${kc-client-id}
keycloak.secret=${kc-secret}
keycloak.ssl-required=external
keycloak.confidential-port=0
keycloak.use-resource-role-mappings=true
keycloak.bearer-only=false

server.port=9080

# Logging part for debugging
logging.config=classpath:config/log4j2.xml
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.root=DEBUG



